report.overwrite = true // allows the report to be overwritten
dag.overwrite = true    // allows the dependency graph to be overwritten

profiles {
    
    local {
        process.executor = 'local'
        process.memory = '32GB'
        process.cpus = 10
        }
    
    slurm {

        executor.name = 'slurm'
        executor.queueGlobalStatus = true

        process.executor = 'slurm'
        process.memory = '2GB'
        process.cpus = 1
        process.queue = 'general'
        process.time = '30m'

        process {
            withName: 'get_phenologs_data' {
                memory = '8GB'
            }
            withName: 'compute_fdr_data' {
                memory = '256GB'
                cpus = 128
                time = '6h'
            }
            withName: 'compute_real_phenolog_data' {
                memory = '32GB'
                cpus = 8 
            }
            withName: 'compute_fdr_info' {
                memory = '8GB'
            }
            withName: 'compute_ortholog_rank_calcs' {
                memory = '8GB'
            }
            withName: 'convert_to_sim_tables' {
                memory = '16GB'
            }
            withName: 'leave_one_out_calculations' {
                memory = '256GB'
                cpus = 128
                time = '12h'
            }
            withName: 'leave_one_out_ortholog_rank_calcs' {
                memory = '64GB'
                cpus = 32
                time = '1h'
            }
        }
    }

    slurm_test {

        executor.name = 'slurm'
        executor.queueGlobalStatus = true

        process.executor = 'slurm'
        process.memory = '2GB'
        process.cpus = 1
        process.queue = 'general'
        process.time = '30m'

        process {
            withName: 'get_phenologs_data' {
                memory = '8GB'
            }
            withName: 'compute_fdr_data' {
                memory = '32GB'
                cpus = 10
                time = '1h'
            }
            withName: 'compute_real_phenolog_data' {
                memory = '32GB'
                cpus = 8 
            }
            withName: 'compute_fdr_info' {
                memory = '8GB'
            }
            withName: 'compute_ortholog_rank_calcs' {
                memory = '8GB'
            }
            withName: 'convert_to_sim_tables' {
                memory = '16GB'
            }
            withName: 'leave_one_out_calculations' {
                memory = '256GB'
                cpus = 10
                time = '1h'
            }
            withName: 'leave_one_out_ortholog_rank_calcs' {
                memory = '64GB'
                cpus = 10
                time = '1h'
            }
        }
    }
}
